<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>zlel package &#8212; ZLEL 2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=60dbed4a"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="zlel_main module" href="zlel_main.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="zlel-package">
<h1>zlel package<a class="headerlink" href="#zlel-package" title="Link to this heading">¶</a></h1>
<section id="module-zlel.zlel_p1">
<span id="zlel-zlel-p1-module"></span><h2>zlel.zlel_p1 module<a class="headerlink" href="#module-zlel.zlel_p1" title="Link to this heading">¶</a></h2>
<dl class="py function" id="module-zlel_p1.py">
<dt class="sig sig-object py" id="zlel.zlel_p1.ErreferentziNodoa">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">ErreferentziNodoa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#ErreferentziNodoa"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.ErreferentziNodoa" title="Link to this definition">¶</a></dt>
<dd><p>This function is used to detect if the reference-node is missing.</p>
<section id="args">
<h3>Args<a class="headerlink" href="#args" title="Link to this heading">¶</a></h3>
<p>nodes : a sorted-in-ascending-order np array of the nodes.</p>
</section>
<section id="returns">
<h3>Returns<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h3>
<p>None.</p>
</section>
<section id="rises">
<h3>Rises<a class="headerlink" href="#rises" title="Link to this heading">¶</a></h3>
<p>SystemExit.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.KonexioBakarrekoNodoak">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">KonexioBakarrekoNodoak</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#KonexioBakarrekoNodoak"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.KonexioBakarrekoNodoak" title="Link to this definition">¶</a></dt>
<dd><p>This function is used to detect if any node is floating.</p>
<section id="id1">
<h3>Args<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>Aa : a np array which represents the incident matrix of the circuit.
nodes : a sorted-in-ascending-order np array of the nodes.</p>
</section>
<section id="id2">
<h3>Returns<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>None.</p>
</section>
<section id="id3">
<h3>Rises<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>SystemExit.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.KorronteIturriakSeriean">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">KorronteIturriakSeriean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cir_el2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_nd2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_val2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Aa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#KorronteIturriakSeriean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.KorronteIturriakSeriean" title="Link to this definition">¶</a></dt>
<dd><p>This function is used to detect if Current sources are
connected in serial and they break KCL.</p>
<section id="id4">
<h3>Args<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p>Aa : a np array which represents the incident matrix of the circuit.
cir_el2: np array of strings with the elements to parse.
size(b,n-1). cir_el extended
cir_val2: np array with the values of the elements. size(b,3)
cir_val extended.
cir_nd2 : np array with the nodes to the circuit. size(b,4).
cir_nd extended
b : an integer which represents the number of branches in the circuit.</p>
</section>
<section id="id5">
<h3>Returns<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p>None.</p>
</section>
<section id="id6">
<h3>Rises<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p>SystemExit.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.TentsioIturriakParaleloan">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">TentsioIturriakParaleloan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cir_el2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_val2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Aa</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#TentsioIturriakParaleloan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.TentsioIturriakParaleloan" title="Link to this definition">¶</a></dt>
<dd><p>This function detects if Voltage sources are connected in parallel.</p>
<section id="id7">
<h3>Args<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<p>Aa : a np array which represents the incident matrix of the circuit.
cir_el2: np array of strings with the elements to parse.
size(b,n-1). cir_el extended
cir_val2: np array with the values of the elements. size(b,3)
cir_val extended.</p>
</section>
<section id="id8">
<h3>Returns<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<p>None.</p>
</section>
<section id="id9">
<h3>Rises<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<p>SystemExit.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.cir_parser">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">cir_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#cir_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.cir_parser" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This function takes a .cir test circuit and parse it into
4 matrices.
If the file has not the proper dimensions it warns and exit.</p>
</div></blockquote>
<section id="id10">
<h3>Args<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<p>filename: string with the name of the file</p>
</section>
<section id="id11">
<h3>Returns<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<p>cir_el: np array of strings with the elements to parse. size(1,b)
cir_nd: np array with the nodes to the circuit. size(b,4)
cir_val: np array with the values of the elements. size(b,3)
cir_ctrl: np array of strings with the element which branch
controls the controlled sources. size(1,b)</p>
</section>
<section id="id12">
<h3>Rises<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<p>SystemExit</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.getAdarrak">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">getAdarrak</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cir_el</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#getAdarrak"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.getAdarrak" title="Link to this definition">¶</a></dt>
<dd><p>This function returns the size of the list of elements obtained from
cir_el.</p>
<section id="id13">
<h3>Args<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<p>cir_el: np array of strings with the elements to parse. size(1,b)</p>
</section>
<section id="id14">
<h3>Returns<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<p>b : an integer which represents the number of branches in the circuit.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.getEl_num">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">getEl_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cir_el</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#getEl_num"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.getEl_num" title="Link to this definition">¶</a></dt>
<dd><p>This function returns the size of the list of elements obtained from
cir_el.</p>
<section id="id15">
<h3>Args<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<p>cir_el: np array of strings with the elements to parse.
size(el_num,n-1)</p>
</section>
<section id="id16">
<h3>Returns<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<p>el_num : an integer which represents the number of elements in the circuit.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.getInzidentziaMatrix">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">getInzidentziaMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_nd2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#getInzidentziaMatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.getInzidentziaMatrix" title="Link to this definition">¶</a></dt>
<dd><p>This function return np array which represents the incident matrix
of the circuit.</p>
<section id="id17">
<h3>Args<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<p>n : an integer which represents the number of nodes in the “nodes” list.
cir_nd2 : np array with the nodes to the circuit. size(b,4).
cir_nd extended
b : an integer which represents the number of branches in the circuit.</p>
</section>
<section id="id18">
<h3>Returns<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h3>
<p>Aa : a np array which represents the incident matrix of the circuit.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.getMurriztutakoIntzidentziaMatrix">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">getMurriztutakoIntzidentziaMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Aa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#getMurriztutakoIntzidentziaMatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.getMurriztutakoIntzidentziaMatrix" title="Link to this definition">¶</a></dt>
<dd><p>This function return the matrix which will be used to solve the Tableau
equations.</p>
<section id="id19">
<h3>Args<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h3>
<p>Aa : a np array which represents the incident matrix of the circuit.
n : an integer which represents the number of nodes in the “nodes” list.</p>
</section>
<section id="id20">
<h3>Returns<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h3>
<p>A : a np array wich represents the reduced matrix o i_mat.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.getNodes">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">getNodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cir_nd2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#getNodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.getNodes" title="Link to this definition">¶</a></dt>
<dd><p>This funcion takes the cir_nd2 matrix and returns a list made
up by the nodes of the circuit.</p>
<section id="id21">
<h3>Args<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h3>
<p>cir_nd2: np array with the nodes of the circuit. size(b,4)</p>
</section>
<section id="id22">
<h3>Returns<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h3>
<p>nodes : a sorted-in-ascending-order np array of the nodes</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.getNodesNumber">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">getNodesNumber</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cir_nd2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#getNodesNumber"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.getNodesNumber" title="Link to this definition">¶</a></dt>
<dd><p>This funcion returns the size of the list of nodes from cir_nd2 using
the getNodes function.</p>
<section id="id23">
<h3>Args<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h3>
<p>cir_nd2: np array with the nodes of the circuit. size(b,4)</p>
</section>
<section id="id24">
<h3>Returns<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h3>
<p>n : an integer which represents the number of nodes in the “nodes” list.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.luzatu_cir">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">luzatu_cir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cir_el</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_nd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_ctr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#luzatu_cir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.luzatu_cir" title="Link to this definition">¶</a></dt>
<dd><p>This function expands the matrixes we obtained in the function before
in order to fit with the number of the branches of the elements added.</p>
<section id="id25">
<h3>Args<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h3>
<p>cir_el: np array of strings with the elements to parse. size(1,b)
cir_nd: np array with the nodes to the circuit. size(b,4)
cir_val: np array with the values of the elements. size(b,3)
cir_ctrl: np array of strings with the element which branch
controls the controlled sources. size(1,b)</p>
</section>
<section id="id26">
<h3>Returns<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h3>
<p>cir_el2: np array of strings with the elements to parse.
size(b,n-1). cir_el extended
cir_nd2: np array with the nodes to the circuit. size(b,4).
cir_nd extended
cir_val2: np array with the values of the elements. size(b,3)
cir_val extended.
cir_ctrl2: np array of strings with the element which branch
controls the controlled sources. size(b,1). cir_ctrl extended.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.obtener_ramas">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">obtener_ramas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_el2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_nd2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#obtener_ramas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.obtener_ramas" title="Link to this definition">¶</a></dt>
<dd><p>This function returns a list of the branches connected to a node
in the circuit.</p>
<section id="id27">
<h3>Args<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h3>
<p>nodo : an integer which represents a node in the circuit
cir_el2: np array of strings with the elements to parse.
size(b,n-1). cir_el extended
cir_nd2: np array with the nodes to the circuit. size(b,4).
cir_nd extended</p>
</section>
<section id="id28">
<h3>Returns<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h3>
<p>lista : a list of the branches connected to a node in the circuit.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p1.print_cir_info">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p1.</span></span><span class="sig-name descname"><span class="pre">print_cir_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cir_el</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_nd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">el_num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p1.html#print_cir_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p1.print_cir_info" title="Link to this definition">¶</a></dt>
<dd><dl>
<dt>Prints the info of the circuit:</dt><dd><div class="line-block">
<div class="line">1.- Elements info</div>
<div class="line">2.- Node info</div>
<div class="line">3.- Branch info</div>
<div class="line">4.- Variable info</div>
</div>
</dd>
</dl>
<section id="id29">
<h3>Args<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h3>
<p>cir_el: reshaped cir_el
cir_nd: reshaped cir_nd. Now it will be a(b,2) matrix
b: # of branches
n: # number of nodes
nodes: an array with the circuit nodes sorted
el_num:  the # of elements</p>
</section>
</dd></dl>

</section>
<section id="module-zlel.zlel_p2">
<span id="zlel-zlel-p2-module"></span><h2>zlel.zlel_p2 module<a class="headerlink" href="#module-zlel.zlel_p2" title="Link to this heading">¶</a></h2>
<dl class="field-list simple" id="module-zlel_p2.py">
<dt class="field-odd">synopsis<span class="colon">:</span></dt>
<dd class="field-odd"><p>Utility functions for electric circuit simulation
(netlist parsing, MNA matrices, CSV export, and visualization)</p>
</dd>
</dl>
<p>This module provides a set of support functions for simulating electric
circuits defined in .cir (netlist) files. It offers tools for:</p>
<ul class="simple">
<li><p>Parsing .cir files and converting them into structured matrix formats.</p></li>
<li><dl class="simple">
<dt>Extracting simulation commands (.OP, .PR, .DC, .TR) and interpreting</dt><dd><p>their parameters.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Building the M, N, and Us matrices used in the Modified Nodal Analysis</dt><dd><p>(Tableau method).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Generating and saving simulation results (DC sweep and transient analysis)</dt><dd><p>to CSV files.</p>
</dd>
</dl>
</li>
<li><p>Printing formatted simulation results to the console.</p></li>
<li><p>Plotting variables from simulation outputs.</p></li>
<li><dl class="simple">
<dt>Expanding composite circuit elements such as transistors and</dt><dd><p>controlled sources.</p>
</dd>
</dl>
</li>
<li><p>Solving the complete MNA system and verifying uniqueness of the solution.</p></li>
</ul>
<p>This module enables a user to simulate the operating point, DC sweeps,
and time-domain behavior of circuits, and to inspect results
numerically or graphically.</p>
<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.Tableau">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">Tableau</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Us</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#Tableau"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.Tableau" title="Link to this definition">¶</a></dt>
<dd><p>This function evaluates the equations of the Tableau method,
using the M, N, and Us matrices, along with the reduced
incidence matrix A.</p>
<section id="id30">
<h3>Args<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h3>
<p>A: Reduced incidence matrix.
M: Voltage matrix.
N: Current matrix.
Us: Vector of elements not controlled by voltage.</p>
</section>
<section id="id31">
<h3>Returns<a class="headerlink" href="#id31" title="Link to this heading">¶</a></h3>
<p>T: Tableau matrix, containing all equations in the order e, v, i.
Sol: List of solutions for all equations in the same order.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.build_csv_header">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">build_csv_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tvi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#build_csv_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.build_csv_header" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This function build the csv header for the output files.</dt><dd><p>First column will be v or i if .dc analysis or t if .tr and it will
be given by argument tvi.
The header will be this form,
t/v/i,e_1,..,e_n-1,v_1,..,v_b,i_1,..i_b</p>
</dd>
</dl>
<section id="id32">
<h3>Args<a class="headerlink" href="#id32" title="Link to this heading">¶</a></h3>
<p>tvi: “v” or “i” if .dc analysis or “t” if .tran
b: # of branches
n: # of nodes</p>
</section>
<section id="id33">
<h3>Returns<a class="headerlink" href="#id33" title="Link to this heading">¶</a></h3>
<p>header: The header in csv format as string</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.cir_parser">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">cir_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#cir_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.cir_parser" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This function takes a .cir test circuit and parse it into
5 matrices.
If the file has not the proper dimensions it warns and exit.</p>
</div></blockquote>
<section id="id34">
<h3>Args<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h3>
<p>filename: string with the name of the file</p>
</section>
<section id="id35">
<h3>Returns<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>An array with:</dt><dd><ul class="simple">
<li><p>cir_el: np array of strings with the elements to parse. size(1,b)</p></li>
<li><p>cir_nd: np array with the nodes to the circuit. size(b,4)</p></li>
<li><p>cir_val: np array with the values of the elements. size(b,3)</p></li>
<li><dl class="simple">
<dt>cir_ctrl: np array of strings with the element which branch</dt><dd><p>controls the controlled sources. size(1,b)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>sim_cmds: np array of strings with the information of the</dt><dd><p>simulations.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id36">
<h3>Rises<a class="headerlink" href="#id36" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>SystemExit</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.getAdarrak">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">getAdarrak</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cir_el2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#getAdarrak"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.getAdarrak" title="Link to this definition">¶</a></dt>
<dd><p>This function returns the size of the list of elements obtained from
cir_el2.</p>
<section id="id37">
<h3>Args<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h3>
<p>cir_el: np array of strings with the elements to parse. size(1,b)</p>
</section>
<section id="id38">
<h3>Returns<a class="headerlink" href="#id38" title="Link to this heading">¶</a></h3>
<p>b : an integer which represents the number of branches in the circuit.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.getElemPosition">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">getElemPosition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cir_el2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#getElemPosition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.getElemPosition" title="Link to this definition">¶</a></dt>
<dd><p>Gives the position of an element in cir_el_luz</p>
<section id="id39">
<h3>Args<a class="headerlink" href="#id39" title="Link to this heading">¶</a></h3>
<p>elem : String with the name of the element
cir_el_luz : extended np array of strings with the elements to parse.
size(b,1)</p>
</section>
<section id="id40">
<h3>Returns<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h3>
<p>i : Integer with the position of the element</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.getMNUs">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">getMNUs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circuit2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#getMNUs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.getMNUs" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Gives M, N and Us matrixes thath will be used in Tableau equations:</dt><dd><p>M*v + N*i = Us</p>
</dd>
</dl>
<section id="id41">
<h3>Args<a class="headerlink" href="#id41" title="Link to this heading">¶</a></h3>
<p>b : Integer with the number of branches in the circuit
cir_el_luz : extended np array of strings with the elements to parse.
size(b,1)
cir_val_luz : extended np array with the values of the elements.
size(b,3)
cir_ctr_luz : extended np array of strings with the element which branch
controls the controlled sources. size(b,1)</p>
</section>
<section id="id42">
<h3>Returns<a class="headerlink" href="#id42" title="Link to this heading">¶</a></h3>
<p>M : np array that contains the first matrix of Tableau equations. size(b,b)
N : np array that contains the second matrix of Tableau equations.
size(b,b)
Us : np array that contains the third matrix of Tableau equations.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.getSimulations">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">getSimulations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sim_cmds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#getSimulations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.getSimulations" title="Link to this definition">¶</a></dt>
<dd><p>This function takes the sim_cmds matrix and returns a dictionary with
the different operations. If a operation is shown in the parser, it will
appear as True in the dictionary and for DC and Transient analysis also
some related values.</p>
<blockquote>
<div><p>PR : Prints information about the circuit
OP : Prints the operating point of the circuit
DC : Writes the DC sweep analysis in a cvs file
TR : Writes the Transient analysis</p>
</div></blockquote>
<section id="id43">
<h3>Args<a class="headerlink" href="#id43" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>circuit : Array of 4 elements that describe the circuit</p>
</div></blockquote>
</section>
<section id="id44">
<h3>Returns<a class="headerlink" href="#id44" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>d : Dictionary with .PR, .OP, .DC and .TR words.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.luzatu_cir">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">luzatu_cir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#luzatu_cir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.luzatu_cir" title="Link to this definition">¶</a></dt>
<dd><p>Expands circuit matrices to handle multi-branch elements like transistors
and controlled sources.</p>
<section id="id45">
<h3>Args<a class="headerlink" href="#id45" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>circuit: list of np.arrays</dt><dd><ul class="simple">
<li><p>cir_el: np array of element names. size(1, b)</p></li>
<li><p>cir_nd: np array of node connections. size(b, 4)</p></li>
<li><p>cir_val: np array of element values. size(b, 3)</p></li>
<li><p>cir_ctrl: np array of controlling elements (strings). size(1, b)</p></li>
</ul>
</dd>
</dl>
</section>
<section id="id46">
<h3>Returns<a class="headerlink" href="#id46" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>Tuple of np.arrays:</dt><dd><ul class="simple">
<li><p>cir_el2: expanded element names</p></li>
<li><p>cir_nd2: expanded node definitions</p></li>
<li><p>cir_val2: expanded values</p></li>
<li><p>cir_ctrl2: expanded controls</p></li>
</ul>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.plot_from_cvs">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">plot_from_cvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#plot_from_cvs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.plot_from_cvs" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This function plots the values corresponding to the x string of the</dt><dd><p>file filename in the x-axis and the ones corresponding to the y
string in the y-axis.
The x and y strings must mach with some value of the header in the
csv file filename.</p>
</dd>
</dl>
<section id="id47">
<h3>Args<a class="headerlink" href="#id47" title="Link to this heading">¶</a></h3>
<p>filename: string with the name of the file (including the path).
x: string with some value of the header of the file.
y: string with some value of the header of the file.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.print_solution">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">print_solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#print_solution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.print_solution" title="Link to this definition">¶</a></dt>
<dd><p>This function prints the solution with format.</p>
<section id="id48">
<h3>Args<a class="headerlink" href="#id48" title="Link to this heading">¶</a></h3>
<p>sol: np array with the solution of the Tableau equations
(e_1,..,e_n-1,v_1,..,v_b,i_1,..i_b)
b: # of branches
n: # of nodes</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.save_as_csv_dc">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">save_as_csv_dc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MNUs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#save_as_csv_dc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.save_as_csv_dc" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This function gnerates a csv file with the name filename.</dt><dd><p>First it will save a header and then, it loops and save a line in
csv format into the file with the dc solution of the circuit.</p>
</dd>
</dl>
<section id="id49">
<h3>Args<a class="headerlink" href="#id49" title="Link to this heading">¶</a></h3>
<p>b: # of branches
n: # of nodes
filename: string with the filename (incluiding the path)
MNUs : M, N and u matrices
circuit : The circuit parser updated
start : Start of DC analysis
end : End of DC analysis
step : Step of DC analysis
source : Name or identifier of the independent source
to be swept during the DC analysis.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.save_as_csv_tr">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">save_as_csv_tr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MNUs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#save_as_csv_tr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.save_as_csv_tr" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This function generates a csv file with the name filename.</dt><dd><p>First it will save a header and then, it loops and save a line in
csv format into the file making the transient analysis.</p>
</dd>
</dl>
<section id="id50">
<h3>Args<a class="headerlink" href="#id50" title="Link to this heading">¶</a></h3>
<p>b: # of branches
n: # of nodes
filename: string with the filename (incluiding the path)
MNUs : M, N and u matrices
circuit : The circuit parser updated
start : Start of transient analysis
end : End of transient analysis
step : Step of transient analysis</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p2.save_sim_output">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p2.</span></span><span class="sig-name descname"><span class="pre">save_sim_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sims_folder_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p2.html#save_sim_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p2.save_sim_output" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This function creates an absolute path to a filename inserting</dt><dd><p>a folder given by “sims_folder_name” and changing its extension
by another given by “extensión” (. needs to be included).</p>
</dd>
</dl>
<section id="id51">
<h3>Args<a class="headerlink" href="#id51" title="Link to this heading">¶</a></h3>
<p>filename: string with the filename (incluiding the path)
sims_folder_name: string with the name of the folder to save the sims
extension: new extensión for the file.</p>
</section>
<section id="id52">
<h3>Returns<a class="headerlink" href="#id52" title="Link to this heading">¶</a></h3>
<p>new_file_path: the filename with the sims_folder_name inserted.</p>
</section>
</dd></dl>

</section>
<section id="module-zlel.zlel_p3">
<span id="zlel-zlel-p3-module"></span><h2>zlel.zlel_p3 module<a class="headerlink" href="#module-zlel.zlel_p3" title="Link to this heading">¶</a></h2>
<dl class="field-list simple" id="module-zlel_p3.py">
<dt class="field-odd">synopsis<span class="colon">:</span></dt>
<dd class="field-odd"><p>Non-linear element handling and Newton-Raphson implementation
for electric circuit simulation</p>
</dd>
</dl>
<p>This module extends the circuit analysis capabilities of the ZLEL simulator
by introducing support for non-linear components such as diodes and bipolar
transistors (BJTs). It includes:</p>
<ul class="simple">
<li><p>Detection of non-linear elements in parsed circuits</p></li>
<li><dl class="simple">
<dt>Calculation of diode and transistor models using the Newton-Raphson (NR)</dt><dd><p>iterative method</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Replacement of original non-linear elements with linear equivalents in the</dt><dd><p>MNA system at each NR iteration</p>
</dd>
</dl>
</li>
<li><p>Integration of the NR solver into DC and transient simulation workflows</p></li>
<li><dl class="simple">
<dt>Support functions for calculating diode and transistor equivalent conductance</dt><dd><p>and independent current sources</p>
</dd>
</dl>
</li>
<li><p>Enhanced <cite>.tr</cite> and <cite>.dc</cite> simulations that accommodate non-linearities</p></li>
</ul>
<p>This module is critical for enabling convergence to the operating point of
circuits containing exponential components and ensuring accurate simulations
for real-world non-linear behavior.</p>
<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p3.MNu_D_NR">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p3.</span></span><span class="sig-name descname"><span class="pre">MNu_D_NR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Diode_NR</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p3.html#MNu_D_NR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p3.MNu_D_NR" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This funcion takes the diode NR values and the elements and returns the
same elements but with the equivalents replaced in the position given.</p>
</div></blockquote>
<section id="id53">
<h3>Args<a class="headerlink" href="#id53" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p>elements : Array with M, N and u matrices
Diode_NR : NR equivalent values g and I
k : Position of the diode on the parser</p>
</div></blockquote>
</section>
<section id="id54">
<h3>Returns<a class="headerlink" href="#id54" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>[M, N, u]<span class="classifier">The same matrices of elements in the arguments but with</span></dt><dd><p>the NR equivalent replaced in the k position</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p3.MNu_Q_NR">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p3.</span></span><span class="sig-name descname"><span class="pre">MNu_Q_NR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Transistor_NR</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p3.html#MNu_Q_NR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p3.MNu_Q_NR" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This funcion takes the transistor NR equivalent values and the elements
and returns the same elements but with the equivalents replaced
starting from the position given.</p>
</div></blockquote>
<section id="id55">
<h3>Args<a class="headerlink" href="#id55" title="Link to this heading">¶</a></h3>
<p>elements : Array with M, N and u matrices
Transistor_NR : NR equivalent values G, IE and IC
k : Starting position of the transistor on the parser</p>
</section>
<section id="id56">
<h3>Returns<a class="headerlink" href="#id56" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>[M, N, u]<span class="classifier">The same matrices of elements in the arguments but with</span></dt><dd><p>the NR equivalent replaced starting on the k position</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p3.NR">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p3.</span></span><span class="sig-name descname"><span class="pre">NR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">it_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p3.html#NR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p3.NR" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This function takes a circuit and its elements and in case there
is a D or Q it returns the Newton Raphson equivalent.</p>
</div></blockquote>
<section id="id57">
<h3>Args<a class="headerlink" href="#id57" title="Link to this heading">¶</a></h3>
<p>A : Reduced incidence matrix
circuit : Updated cir_parser
elements : M, N and u matrices
e : Error given to solve NR (Default value = 1e-5)
it_max : Maximum iteration given to solve NR (Default value = 100)</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p3.Transistor_NR">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p3.</span></span><span class="sig-name descname"><span class="pre">Transistor_NR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Ies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Bf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vbe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vbc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p3.html#Transistor_NR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p3.Transistor_NR" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This function takes the transistors branches voltages, and transistor
constants and returns Newton Raphson equivalent of the transistor.</p>
</div></blockquote>
<section id="id58">
<h3>Args<a class="headerlink" href="#id58" title="Link to this heading">¶</a></h3>
<p>Ies : Emitter saturation current
Ics : Colector saturation current
Bf : Common emitter current gain
Vbe : Previous voltage value for BE connection
Vbc : Previous voltage value for BC connection</p>
</section>
<section id="id59">
<h3>Returns<a class="headerlink" href="#id59" title="Link to this heading">¶</a></h3>
<p>G : Equivalent conductance of the transistor
Ie : Equivalent current of the transistor on the emitter
Ic : Equivalent current of the transistor on the collector</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p3.diode_NR">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p3.</span></span><span class="sig-name descname"><span class="pre">diode_NR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">I0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nD</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vdj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p3.html#diode_NR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p3.diode_NR" title="Link to this definition">¶</a></dt>
<dd><dl>
<dt><a class="reference external" href="https://documentation.help/Sphinx/math.html">https://documentation.help/Sphinx/math.html</a></dt><dd><p>Calculates the g and the I of a diode for a NR discrete equivalent
Given,</p>
<p><img class="math" src="_images/math/56fe6e25a9793d165947467cc712fdb51a209e46.png" alt="Id = I_0(e^{(\frac{V_d}{nV_T})}-1)"/></p>
<p>The NR discrete equivalent will be,</p>
<p><img class="math" src="_images/math/a9bfeb1947343d494011fffb639cab40e401e0b6.png" alt="i_{j+1} + g v_{j+1} = I"/></p>
<p>where,</p>
<p><img class="math" src="_images/math/b0b6f565fdc45e9a0b89c0a36c131869192dcb8d.png" alt="g = -\frac{I_0}{nV_T}e^{(\frac{V_d}{nV_T})}"/></p>
<p>and</p>
<p><img class="math" src="_images/math/acf2ebb8b96ea91b3661dc8d42546d2614cec27d.png" alt="I = I_0(e^{(\frac{V_{dj}}{nV_T})}-1) + gV_{dj}"/></p>
</dd>
</dl>
<section id="id60">
<h3>Args<a class="headerlink" href="#id60" title="Link to this heading">¶</a></h3>
<p>I0: Value of I0.
nD: Value of nD.
Vdj: Value of Vd.</p>
</section>
<section id="id61">
<h3>Returns<a class="headerlink" href="#id61" title="Link to this heading">¶</a></h3>
<p>gd: Conductance of the NR discrete equivalent for the diode.
Id: Current independent source of the NR discrete equivalent.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p3.non_linear">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p3.</span></span><span class="sig-name descname"><span class="pre">non_linear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p3.html#non_linear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p3.non_linear" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This function takes a circuit and returns whether there are any
non-linear elements. If there are, it also returns a list with the
position of each one and the type of element.</p>
</div></blockquote>
<section id="id62">
<h3>Args<a class="headerlink" href="#id62" title="Link to this heading">¶</a></h3>
<p>circuit : The circuit parser updated</p>
</section>
<section id="id63">
<h3>Returns<a class="headerlink" href="#id63" title="Link to this heading">¶</a></h3>
<p>nl : True if there is at least one non-linear element, if not False
nl_el : List with tuples of each non-lineal element and its position</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p3.save_as_csv_dc">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p3.</span></span><span class="sig-name descname"><span class="pre">save_as_csv_dc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MNUs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p3.html#save_as_csv_dc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p3.save_as_csv_dc" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This function gnerates a csv file with the name filename.</dt><dd><p>First it will save a header and then, it loops and save a line in
csv format into the file with the dc solution of the circuit.</p>
</dd>
</dl>
<section id="id64">
<h3>Args<a class="headerlink" href="#id64" title="Link to this heading">¶</a></h3>
<p>b: # of branches
n: # of nodes
filename: string with the filename (incluiding the path)
MNUs : M, N and u matrices
circuit : The circuit parser updated
start : Start of DC analysis
end : End of DC analysis
step : Step of DC analysis
source : Name or identifier of the independent source
to be swept during the DC analysis.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p3.save_as_csv_tr">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p3.</span></span><span class="sig-name descname"><span class="pre">save_as_csv_tr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MNUs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p3.html#save_as_csv_tr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p3.save_as_csv_tr" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This function generates a csv file with the name filename.</dt><dd><p>First it will save a header and then, it loops and save a line in
csv format into the file making the transient analysis.</p>
</dd>
</dl>
<section id="id65">
<h3>Args<a class="headerlink" href="#id65" title="Link to this heading">¶</a></h3>
<p>b: # of branches
n: # of nodes
filename: string with the filename (incluiding the path)
MNUs : M, N and u matrices
circuit : The circuit parser updated
start : Start of transient analysis
end : End of transient analysis
step : Step of transient analysis</p>
</section>
</dd></dl>

</section>
<section id="module-zlel.zlel_p4">
<span id="zlel-zlel-p4-module"></span><h2>zlel.zlel_p4 module<a class="headerlink" href="#module-zlel.zlel_p4" title="Link to this heading">¶</a></h2>
<dl class="field-list simple" id="module-zlel_p4.py">
<dt class="field-odd">synopsis<span class="colon">:</span></dt>
<dd class="field-odd"><p>Support for dynamic elements and time-domain simulation using
Euler Backward method</p>
</dd>
</dl>
<p>This module extends the ZLEL circuit simulator by handling
<strong>dynamic components</strong> (capacitors and inductors) for transient and operating
point analysis. It implements time-domain integration through the
<strong>Euler Backward method</strong>, and modifies the MNA system accordingly.</p>
<p>Main features:</p>
<ul class="simple">
<li><p>Detection of dynamic elements (C, L) in the circuit</p></li>
<li><dl class="simple">
<dt>Modification of M, N, U matrices to include discrete-time equivalents</dt><dd><p>(Euler Backward)</p>
</dd>
</dl>
</li>
<li><p>Transient simulation loop that updates the system at each time step</p></li>
<li><dl class="simple">
<dt>Static treatment of capacitors and inductors for operating</dt><dd><p>point (OP) analysis</p>
</dd>
</dl>
</li>
<li><p>Integration with Newton-Raphson method to support nonlinear + dynamic systems</p></li>
<li><p>Export of simulation results to CSV</p></li>
</ul>
<p>This module is typically used in conjunction with <cite>zlel_p1.py</cite>, <cite>zlel_p2.py</cite>,
and <cite>zlel_p4.py</cite> to perform complete circuit simulations including static,
dynamic, and nonlinear behavior.</p>
<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p4.Euler_BackWard">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p4.</span></span><span class="sig-name descname"><span class="pre">Euler_BackWard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MNUs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_sol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p4.html#Euler_BackWard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p4.Euler_BackWard" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This function takes a circuit and elements, and in case there is a
L or C it changes the elements matrices to calculate Euler Backward.
If it is on the first iteration of the transient loop it will use the
starting values and else it uses the values from the previous iteration
as starting values.</p>
</div></blockquote>
<section id="id66">
<h3>Args<a class="headerlink" href="#id66" title="Link to this heading">¶</a></h3>
<p>A : Reduced incidence matrix
circuit : The circuit parser updated
MNUs : M, N and u matrixes
h : Diference between a time stamp and the next
t : Iteration number in the transient loop
pre_sol : Solution of the previous iteration</p>
</section>
<section id="id67">
<h3>Returns<a class="headerlink" href="#id67" title="Link to this heading">¶</a></h3>
<p>[M, N, u] : The same matrixes of elements in the arguments but after
applying the Euler Backward method</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p4.dynamic">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p4.</span></span><span class="sig-name descname"><span class="pre">dynamic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p4.html#dynamic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p4.dynamic" title="Link to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This function takes a cir_parser2 and returns whether there are
any dynamic elements. If there are, it also returns a list with the
position of each one and the type of element.</p>
</div></blockquote>
<section id="id68">
<h3>Args<a class="headerlink" href="#id68" title="Link to this heading">¶</a></h3>
<p>circuit : The circuit parser updated</p>
</section>
<section id="id69">
<h3>Returns<a class="headerlink" href="#id69" title="Link to this heading">¶</a></h3>
<p>d : True if there is at least one dynamic element, if not False
d_el : List with tuples of each dynamic element and its position</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p4.prepare_dynamic_OP">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p4.</span></span><span class="sig-name descname"><span class="pre">prepare_dynamic_OP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MNUs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p4.html#prepare_dynamic_OP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p4.prepare_dynamic_OP" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This function calculates the operation</dt><dd><p>point with capacitors and inductors.</p>
</dd>
</dl>
<section id="id70">
<h3>Args<a class="headerlink" href="#id70" title="Link to this heading">¶</a></h3>
<p>MNUs : M, N and u matrixes
circuit : The circuit parser updated
Returns
——-
[M, N, u] : Updated MNU matrixes</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="zlel.zlel_p4.save_as_csv_tr">
<span class="sig-prename descclassname"><span class="pre">zlel.zlel_p4.</span></span><span class="sig-name descname"><span class="pre">save_as_csv_tr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MNUs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circuit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zlel/zlel_p4.html#save_as_csv_tr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#zlel.zlel_p4.save_as_csv_tr" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>This function generates a csv file with the name filename.</dt><dd><p>First it will save a header and then, it loops and save a line in
csv format into the file making the transient analysis.</p>
</dd>
</dl>
<section id="id71">
<h3>Args<a class="headerlink" href="#id71" title="Link to this heading">¶</a></h3>
<p>b: # of branches
n: # of nodes
filename: string with the filename (incluiding the path)
MNUs : M, N and u matrixes
circuit : The circuit parser updated
start : Start of transient analysis
end : End of transient analysis
step : Step of transient analysis</p>
</section>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ZLEL</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="zlel_main.html">zlel_main module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">zlel package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-zlel.zlel_p1">zlel.zlel_p1 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-zlel.zlel_p2">zlel.zlel_p2 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-zlel.zlel_p3">zlel.zlel_p3 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-zlel.zlel_p4">zlel.zlel_p4 module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="zlel_main.html" title="previous chapter">zlel_main module</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Eneko Aranburu (earanburu006@ikasle.ehu.eus), Alvaro Beltran (abeltrandenanc002@ikasle.ehu.eus).
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/zlel.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>